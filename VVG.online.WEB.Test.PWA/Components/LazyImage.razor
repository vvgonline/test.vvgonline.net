@* Lazy loaded image component *@

<img src="@(IsLoaded ? Src : BlurPlaceholder)" 
     alt="@Alt" 
     title="@Title"
     class="lazy-image @Class"
     data-src="@Src"
     @onload="OnImageLoad"
     loading="lazy"
     style="@(IsLoaded ? "" : "filter: blur(5px); transition: filter 0.3s;")" />

@code {
    [Parameter] public string Src { get; set; } = "";
    [Parameter] public string Alt { get; set; } = "";
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public string Class { get; set; } = "";
    [Parameter] public string BlurPlaceholder { get; set; } = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 9'%3E%3Crect fill='%23d9d9d9' width='16' height='9'/%3E%3C/svg%3E";

    private bool IsLoaded { get; set; }

    void OnImageLoad()
    {
        IsLoaded = true;
    }
}
